<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" data-ng-app="_popup" data-ng-csp>
	<head>
		<title>Coub Chrome.Ext - Popup</title>
		<meta charset="UTF-8" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css" /> 
		<link href="/ext.css" rel="stylesheet" type="text/css" />
		<script type="text/javascript" src="angular.min.js"></script>
		<script type="text/javascript" src="ext.js"></script>
		<base target="_blank" />
	</head>
	<body bgcolor="white" class="zealite" data-ng-controller="PopupCtrl" ng-cloak>
		<table class="body-wrap" ng-cloak>
			<tr> 
				<td class="container" ng-cloak>
					<div class="content" ng-cloak>

                        <!--HOT LINKS GOTO or MAKE COUB-->
						<a href="http://coub.com/create" class="createCoub">Make COUB</a>
						<a href="http://coub.com/likes" class="goCoub">Likes log 1</a>
						<a href="http://coub.com/likes" class="goCoub">Likes log 2</a>

						<br clear="all" />
						coub.com API
						<br clear="all" />

						<!--NOTIFICATIONS-->
						<div class="content content_noBottomBorder content_lightgray" ng-cloak>

							<span data-ng-if="dataUserIcon">
								<p>Current channel info:</p>

								<a href="{{serverUrl}}/{{dataUser.current_channel.permalink}}" target="_blank"><img data-ng-src="{{dataUserIcon}}" /></a>

								<a href="{{serverUrl}}/{{dataUser.current_channel.permalink}}" target="_blank">{{dataUser.current_channel.title}}</a> ({{dataUser.current_channel.followers_count}}) (<span class="orangered">{{dataUser.current_channel.following_count}}</span>) <br> <a href="" data-ng-click="markAllReaded()" title="mark all readed">mark all readed</a>
							</span>

							<span data-ng-if="dataNotification">
								<p>Activity log from ALL channel's:</p>
								<!--@TODO hide if no have notifications-->
								<!--<pre data-ng-bind="dataNotification | json"></pre>-->

								<span data-ng-repeat="notif in dataNotification">
									<!--<pre data-ng-bind="notif.kind | json"></pre>-->
									<p>

										<!--KIND-->
										event:<span class="orangered">{{notif.kind}}</span>

										<!--ICON-->
										<span data-ng-if="notif.system_notification == rtue"><img class="like" src="icon_connect.png" />!! </span>
										<span data-ng-if="notif.kind == 'like'"><img class="like" src="icon_connect.png" /> </span>
										<span data-ng-if="notif.kind == 'recoub'"><img class="recoub" src="icon_connect.png" /> </span>
										<span data-ng-if="notif.kind == 'follow'"><img class="follow" src="icon.png" /> </span>
										<span data-ng-if="notif.kind != 'like' && notif.recoub != 'recoub' && notif.recoub != 'follow'">
											<img class="other" src="icon.png" />
										</span>

										<!--Object-->
										<span>
											<b>{{$index+1}}. <a href="{{serverUrl}}/view/{{notif.object.permalink}}" target="_blank">{{notif.object.title}}</a></b>
											({{(notif.object.views_count) ? notif.object.views_count : notif.object.followers_count}})
											<!--<pre data-ng-bind="notif | json"></pre>-->
										</span>
										<br>
										<!--User actions-->
										<span data-ng-repeat="notifS in notif.senders track by $index" data-ng-if="notifS.i_follow_him != true">
											<a href="http://coub.com/{{notifS.permalink}}">{{notifS.title}}</a>
											({{notif.kind}}) (<span class="orangered">{{notifS.followers_count}}</span>)
											<a href="" data-ng-click="follow(dataUser.current_channel.id, notifS.id)" title="follow him">+</a>
											<!-- @TODO HIDE AFTER CLICK-->
											<br>
										</span>
									</p>
								</span>
							</span>

							<p>Quick links:</p>

							<a href="http://coub.com">Last viewed COUB</a>
							<br/>
							<!--@TODO go go!-->
							<a href="http://coub.com">Donate this app!</a>
							<br/>
							<!--@TODO go go!-->

							<a href="http://coub.com/dev/docs/Coub+API/Overview">Coub API Overview</a><br/>
							<a href="/options.html" target="_blank" title="Settings">Settings</a>
						</div>

						<!--SAERCH-->
						<div class="content content_lightgray" ng-cloak>

							<span data-ng-if="logData">
							<p>Search log from coub.com:</p>

							<div data-ng-repeat="eachItem in logData track by $index">
								<a href="http://coub.com/search?q={{eachItem.query}}" target="_blank">{{eachItem.query}}</a>
							</div>
							</span>

							<br>

							<input placeholder="#tag/name" data-ng-model="search_text" />
							<button data-ng-click="searchFunc()">search by click</button>

							<span data-ng-if="model.data.coubs">
								<p>Search result's:</p>

								<div data-ng-repeat="eachItem in model.data.coubs track by $index">
									<a href="http://coub.com/view/{{eachItem.permalink}}" target="_blank">{{eachItem.title}}</a>
								</div>
							</span>

						</div>

					</div>
				</td>
			</tr>
		</table>

		<!--<pre data-ng-bind="dataUser | json"></pre>-->

	</body>
</html>